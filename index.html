<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiche d'Évaluation - Sahel Chess Festival 2025</title>
    <style>
        /* Mode sombre (par défaut) */
        :root {
            --bg-primary: linear-gradient(135deg, #1a3a5f 0%, #0d1f2f 100%);
            --bg-secondary: rgba(26, 58, 95, 0.7);
            --bg-section: rgba(13, 31, 47, 0.5);
            --text-primary: #fff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --accent-1: #2ca6a0;
            --accent-2: #f9c74f;
            --border-color: rgba(255, 255, 255, 0.2);
            --input-bg: rgba(255, 255, 255, 0.1);
            --star-color: rgba(255, 255, 255, 0.3);
            --chess-light: #f0d9b5;
            --chess-dark: #b58863;
            --card-bg: rgba(255, 255, 255, 0.1);
            --success-color: #4caf50;
            --error-color: #f44336;
            --warning-color: #ff9800;
            --firebase-color: #ffca28;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }
        
        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            padding: 20px;
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: background-color 0.3s ease;
            position: relative;
            z-index: 10;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .title {
            font-size: 32px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 10px;
            transition: color 0.3s ease;
        }
        
        .subtitle {
            font-size: 18px;
            color: var(--accent-1);
            margin-bottom: 20px;
            transition: color 0.3s ease;
        }
        
        .accent-line {
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
            margin: 0 auto 20px;
            border-radius: 2px;
        }
        
        /* Indicateur de progression */
        .progress-container {
            margin-bottom: 30px;
            position: relative;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }
        
        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 10%;
        }
        
        .step-circle {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        
        .step-circle.active {
            background-color: var(--accent-1);
        }
        
        .step-circle.completed {
            background-color: var(--success-color);
        }
        
        .step-label {
            font-size: 10px;
            margin-top: 5px;
            text-align: center;
            color: var(--text-secondary);
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-section);
            border-radius: 10px;
            border-left: 4px solid var(--accent-1);
            transition: background-color 0.3s ease;
            position: relative;
            z-index: 10;
        }
        
        .section-title {
            font-size: 22px;
            font-weight: 600;
            color: var(--accent-2);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            transition: color 0.3s ease;
        }
        
        .section-title i {
            margin-right: 10px;
            color: var(--accent-1);
            transition: color 0.3s ease;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background: var(--input-bg);
            color: var(--text-primary);
            font-size: 16px;
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        }
        
        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--accent-1);
            box-shadow: 0 0 0 2px rgba(44, 166, 160, 0.3);
        }
        
        .error-message {
            color: var(--error-color);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .radio-group,
        .checkbox-group {
            margin-bottom: 10px;
        }
        
        .radio-option,
        .checkbox-option {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .radio-option input,
        .checkbox-option input {
            margin-right: 10px;
        }
        
        .rating-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .rating-label {
            min-width: 200px;
            font-weight: 500;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }
        
        .rating-stars {
            display: flex;
            flex-direction: row-reverse;
            justify-content: flex-end;
        }
        
        .rating-stars input[type="radio"] {
            display: none;
        }
        
        .rating-stars label {
            font-size: 24px;
            color: var(--star-color);
            cursor: pointer;
            margin-right: 5px;
            transition: color 0.2s;
        }
        
        .rating-stars input[type="radio"]:checked ~ label,
        .rating-stars label:hover,
        .rating-stars label:hover ~ label {
            color: var(--accent-2);
        }
        
        .nps-group {
            margin-bottom: 15px;
        }
        
        .flutter-slider-container {
            margin-top: 20px;
        }
        
        .slider-value-display {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: var(--accent-2);
            margin: 10px 0;
            transition: color 0.3s ease;
        }
        
        .slider-track {
            position: relative;
            height: 6px;
            background: var(--border-color);
            border-radius: 3px;
            margin: 15px 0;
            transition: background-color 0.3s ease;
        }
        
        .slider-progress {
            position: absolute;
            height: 6px;
            background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
            border-radius: 3px;
            width: 50%;
        }
        
        .slider-thumb {
            position: absolute;
            top: -7px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: var(--accent-2);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease;
        }
        
        .slider-thumb:hover {
            transform: translateX(-50%) scale(1.2);
        }
        
        .nps-description {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(90deg, var(--accent-1), #1a3a5f);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 10;
        }
        
        .btn:hover {
            background: linear-gradient(90deg, #1a3a5f, var(--accent-1));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            font-size: 14px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
            position: relative;
            z-index: 10;
        }
        
        /* Notification de sauvegarde automatique */
        .save-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success-color);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            z-index: 1000;
        }
        
        .save-notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .save-notification i {
            margin-right: 10px;
        }
        
        /* Boutons de sauvegarde */
        .save-buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .save-btn {
            padding: 8px 15px;
            background-color: var(--accent-1);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .save-btn:hover {
            background-color: var(--accent-2);
        }
        
        .clear-btn {
            padding: 8px 15px;
            background-color: var(--error-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .clear-btn:hover {
            background-color: #d32f2f;
        }
        
        /* Firebase Badge */
        .firebase-badge {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: var(--firebase-color);
            color: #333;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 100;
        }
        
        .firebase-badge i {
            margin-right: 5px;
        }
        
        /* Éléments d'échecs animés */
        .chess-board {
            position: fixed;
            width: 300px;
            height: 300px;
            bottom: -150px;
            right: -150px;
            transform: rotate(45deg);
            z-index: 1;
            opacity: 0.05;
            pointer-events: none;
        }
        
        .chess-square {
            position: absolute;
            width: 37.5px;
            height: 37.5px;
        }
        
        .chess-square:nth-child(odd) {
            background-color: var(--chess-light);
        }
        
        .chess-square:nth-child(even) {
            background-color: var(--chess-dark);
        }
        
        .chess-piece {
            position: fixed;
            font-size: 60px;
            z-index: 5;
            user-select: none;
            pointer-events: none;
            opacity: 0.07;
        }
        
        .king-white {
            top: 10%;
            right: 5%;
            animation: float 10s ease-in-out infinite;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .queen-black {
            bottom: 10%;
            left: 5%;
            animation: float 12s ease-in-out infinite 2s;
            color: #000000;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .rook-white {
            top: 15%;
            left: 8%;
            animation: float 8s ease-in-out infinite 4s;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .bishop-black {
            bottom: 15%;
            right: 8%;
            animation: float 9s ease-in-out infinite 1s;
            color: #000000;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .knight-white {
            top: 70%;
            right: 12%;
            animation: float 11s ease-in-out infinite 3s;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .pawn-black {
            bottom: 30%;
            left: 12%;
            animation: float 7s ease-in-out infinite 5s;
            color: #000000;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .floating-chess {
            position: fixed;
            font-size: 120px;
            opacity: 0.02;
            z-index: 1;
            user-select: none;
            pointer-events: none;
        }
        
        .floating-chess-1 {
            top: 5%;
            left: 5%;
            animation: rotate 20s linear infinite;
        }
        
        .floating-chess-2 {
            bottom: 5%;
            right: 5%;
            animation: rotate 25s linear infinite reverse;
        }
        
        .floating-chess-3 {
            top: 70%;
            right: 10%;
            animation: rotate 30s linear infinite;
        }
        
        .floating-chess-4 {
            bottom: 20%;
            left: 15%;
            animation: rotate 35s linear infinite reverse;
        }
        
        .chess-path {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 2;
            pointer-events: none;
        }
        
        .chess-path-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, var(--accent-1), transparent);
            height: 2px;
            width: 100px;
            opacity: 0;
            animation: pathAnimation 15s linear infinite;
        }
        
        .chess-path-line:nth-child(1) {
            top: 20%;
            left: -100px;
            animation-delay: 0s;
        }
        
        .chess-path-line:nth-child(2) {
            top: 40%;
            left: -100px;
            animation-delay: 5s;
        }
        
        .chess-path-line:nth-child(3) {
            top: 60%;
            left: -100px;
            animation-delay: 10s;
        }
        
        .chess-path-line:nth-child(4) {
            top: 80%;
            left: -100px;
            animation-delay: 15s;
        }
        
        .chess-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: var(--accent-2);
            border-radius: 50%;
            opacity: 0;
            z-index: 3;
        }
        
        /* Page de remerciement */
        .thank-you-container {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px 20px;
            position: relative;
            z-index: 10;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .success-card {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 40px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            width: 100%;
            transform: translateY(30px);
            opacity: 0;
            animation: slideUp 0.8s ease-out 0.5s forwards;
            position: relative;
            z-index: 20;
        }
        
        .success-icon {
            font-size: 60px;
            color: var(--success-color);
            margin-bottom: 20px;
            animation: scaleIn 0.5s ease-out 1s forwards;
            transform: scale(0);
        }
        
        .success-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 15px;
            animation: fadeIn 1s ease-in-out 1.2s forwards;
            opacity: 0;
        }
        
        .success-message {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 30px;
            animation: fadeIn 1s ease-in-out 1.4s forwards;
            opacity: 0;
            line-height: 1.5;
        }
        
        .details-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            text-align: left;
            transform: translateY(30px);
            opacity: 0;
            animation: slideUp 0.8s ease-out 1.6s forwards;
            position: relative;
            z-index: 20;
        }
        
        .details-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-2);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .details-title i {
            margin-right: 10px;
            color: var(--accent-1);
        }
        
        .details-list {
            list-style: none;
        }
        
        .details-list li {
            margin-bottom: 12px;
            display: flex;
            align-items: flex-start;
            opacity: 0;
            animation: fadeIn 0.5s ease-in-out forwards;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .details-list li:nth-child(1) {
            animation-delay: 1.8s;
        }
        
        .details-list li:nth-child(2) {
            animation-delay: 2s;
        }
        
        .details-list li:nth-child(3) {
            animation-delay: 2.2s;
        }
        
        .details-list li i {
            color: var(--accent-1);
            margin-right: 10px;
            margin-top: 3px;
            flex-shrink: 0;
        }
        
        .home-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 25px;
            background: linear-gradient(90deg, var(--accent-1), #1a3a5f);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
            transform: translateY(20px);
            opacity: 0;
            animation: slideUp 0.8s ease-out 2.6s forwards;
            position: relative;
            z-index: 20;
        }
        
        .home-btn:hover {
            background: linear-gradient(90deg, #1a3a5f, var(--accent-1));
            transform: translateY(0) scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .countdown-container {
            margin-top: 20px;
        }
        
        .countdown {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .countdown-item {
            text-align: center;
            margin: 5px;
            flex: 1;
            min-width: 60px;
        }
        
        .countdown-value {
            display: block;
            font-size: 20px;
            font-weight: bold;
            color: var(--accent-2);
        }
        
        .countdown-label {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .private-share-container {
            margin-top: 30px;
        }
        
        .private-share-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .private-share-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            transition: all 0.3s ease;
            text-decoration: none;
            position: relative;
        }
        
        .private-share-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }
        
        .private-share-button.whatsapp {
            background-color: #25d366;
        }
        
        .private-share-button.messenger {
            background-color: #0084ff;
        }
        
        .private-share-button.instagram {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }
        
        .private-share-button.gmail {
            background-color: #ea4335;
        }
        
        .private-share-button i {
            font-size: 18px;
        }
        
        .copy-tooltip {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }
        
        .copy-tooltip.show {
            opacity: 1;
        }
        
        .confetti {
            position: fixed;
            z-index: 1000;
            pointer-events: none;
            opacity: 0.8;
        }
        
        /* Mode clair */
        body.light-mode {
            --bg-primary: #ffffff;
            --bg-secondary: #ffffff;
            --bg-section: #f8f9fa;
            --text-primary: #1a73e8;
            --text-secondary: #5f6368;
            --accent-1: #1a73e8;
            --accent-2: #f9ab00;
            --border-color: #dadce0;
            --input-bg: #ffffff;
            --star-color: #dadce0;
            --chess-light: #f0d9b5;
            --chess-dark: #b58863;
            --card-bg: #f1f3f4;
            --success-color: #34a853;
        }
        
        body.light-mode .btn {
            background: linear-gradient(90deg, var(--accent-1), #4285f4);
        }
        
        body.light-mode .btn:hover {
            background: linear-gradient(90deg, #4285f4, var(--accent-1));
        }
        
        body.light-mode input[type="text"]:focus,
        body.light-mode input[type="email"]:focus,
        body.light-mode input[type="number"]:focus,
        body.light-mode select:focus,
        body.light-mode textarea:focus {
            box-shadow: 0 0 0 2px rgba(26, 115, 232, 0.2);
        }
        
        body.light-mode .home-btn {
            background: linear-gradient(90deg, var(--accent-1), #4285f4);
        }
        
        body.light-mode .home-btn:hover {
            background: linear-gradient(90deg, #4285f4, var(--accent-1));
        }
        
        /* Animations */
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }
        
        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        @keyframes pathAnimation {
            0% {
                left: -100px;
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                left: 100%;
                opacity: 0;
            }
        }
        
        @keyframes floatParticle {
            0%, 100% {
                transform: translate(0, 0);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            50% {
                transform: translate(${Math.random() > 0.5 ? '-' : ''}${50 + Math.random() * 100}px, ${Math.random() > 0.5 ? '-' : ''}${50 + Math.random() * 100}px);
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes slideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes scaleIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }
        
        @keyframes fallConfetti {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.8;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .title {
                font-size: 28px;
            }
            
            .section {
                padding: 15px;
            }
            
            .rating-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .rating-label {
                margin-bottom: 10px;
                min-width: 100%;
            }
            
            .chess-board {
                width: 200px;
                height: 200px;
                bottom: -100px;
                right: -100px;
            }
            
            .chess-square {
                width: 25px;
                height: 25px;
            }
            
            .chess-piece {
                font-size: 40px;
            }
            
            .floating-chess {
                font-size: 80px;
            }
            
            .success-card {
                padding: 30px 15px;
            }
            
            .success-title {
                font-size: 24px;
            }
            
            .success-message {
                font-size: 14px;
            }
            
            .details-card {
                padding: 15px;
            }
            
            .countdown-value {
                font-size: 18px;
            }
            
            .private-share-buttons {
                gap: 10px;
            }
            
            .thank-you-container {
                padding: 20px 15px;
            }
            
            .progress-step {
                width: 10%;
            }
            
            .step-label {
                font-size: 8px;
            }
            
            .firebase-badge {
                bottom: 10px;
                left: 10px;
                padding: 6px 10px;
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Plateau d'échecs en arrière-plan -->
    <div class="chess-board">
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
        <div class="chess-square"></div>
    </div>
    
    <!-- Pièces d'échecs animées -->
    <div class="chess-piece king-white">♔</div>
    <div class="chess-piece queen-black">♛</div>
    <div class="chess-piece rook-white">♖</div>
    <div class="chess-piece bishop-black">♝</div>
    <div class="chess-piece knight-white">♘</div>
    <div class="chess-piece pawn-black">♟</div>
    
    <!-- Pièces d'échecs décoratives en rotation -->
    <div class="floating-chess floating-chess-1">♚</div>
    <div class="floating-chess floating-chess-2">♔</div>
    <div class="floating-chess floating-chess-3">♜</div>
    <div class="floating-chess floating-chess-4">♛</div>
    
    <!-- Chemins animés -->
    <div class="chess-path">
        <div class="chess-path-line"></div>
        <div class="chess-path-line"></div>
        <div class="chess-path-line"></div>
        <div class="chess-path-line"></div>
    </div>
    
    <!-- Firebase Badge -->
    <div class="firebase-badge">
        <i class="fas fa-database"></i> Powered by Firebase
    </div>
    
    <!-- Conteneur du formulaire -->
    <div id="form-container" class="container">
        <div class="header">
            <h1 class="title">Fiche d'Évaluation</h1>
            <div class="accent-line"></div>
            <p class="subtitle">Sahel Chess Festival 2025</p>
        </div>
        
        <!-- Indicateur de progression -->
        <div class="progress-container" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Progression du formulaire">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-steps">
                <div class="progress-step">
                    <div class="step-circle" id="step-1">1</div>
                    <div class="step-label">Profil</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-2">2</div>
                    <div class="step-label">Découverte</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-3">3</div>
                    <div class="step-label">Organisation</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-4">4</div>
                    <div class="step-label">Tournoi</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-5">5</div>
                    <div class="step-label">Logistique</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-6">6</div>
                    <div class="step-label">Communication</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-7">7</div>
                    <div class="step-label">Expérience</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-8">8</div>
                    <div class="step-label">Emplacement</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-9">9</div>
                    <div class="step-label">Suggestions</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle" id="step-10">10</div>
                    <div class="step-label">Recommandation</div>
                </div>
            </div>
        </div>
        
        <!-- Boutons de sauvegarde -->
        <div class="save-buttons">
            <button type="button" class="save-btn" id="save-form-btn" aria-label="Sauvegarder le formulaire">
                <i class="fas fa-save"></i> Sauvegarder
            </button>
            <button type="button" class="clear-btn" id="clear-form-btn" aria-label="Effacer les données sauvegardées">
                <i class="fas fa-trash"></i> Effacer
            </button>
        </div>
        
        <form id="evaluation-form" novalidate>
            <!-- Section 1: Profil du répondant -->
            <div class="section" id="section-1" data-section="1">
                <h2 class="section-title"><i class="fas fa-user"></i> Profil du répondant</h2>
                
                <div class="form-group">
                    <label for="nom">Nom & Prénom</label>
                    <input type="text" id="nom" name="Nom" required aria-required="true" aria-describedby="nom-error">
                    <div id="nom-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="age">Âge</label>
                    <input type="number" id="age" name="Age" min="10" max="100" required aria-required="true" aria-describedby="age-error">
                    <div id="age-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label>Genre</label>
                    <div class="radio-group" role="radiogroup" aria-required="true" aria-describedby="genre-error">
                        <div class="radio-option">
                            <input type="radio" id="homme" name="Genre" value="Homme" required aria-required="true">
                            <label for="homme">Homme</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="femme" name="Genre" value="Femme" required aria-required="true">
                            <label for="femme">Femme</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="autre" name="Genre" value="Autre" required aria-required="true">
                            <label for="autre">Autre</label>
                        </div>
                    </div>
                    <div id="genre-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="organisation">Organisation / Club / Fédération</label>
                    <input type="text" id="organisation" name="Organisation" aria-describedby="organisation-error">
                    <div id="organisation-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="pays">Pays de provenance</label>
                    <input type="text" id="pays" name="Pays" required aria-required="true" aria-describedby="pays-error">
                    <div id="pays-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label>Rôle / Statut</label>
                    <div class="radio-group" role="radiogroup" aria-required="true" aria-describedby="role-error">
                        <div class="radio-option">
                            <input type="radio" id="joueur" name="Role" value="Joueur" required aria-required="true">
                            <label for="joueur">Joueur</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="delegation" name="Role" value="Responsable de délégation" required aria-required="true">
                            <label for="delegation">Responsable de délégation</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="organisateur" name="Role" value="Organisateur" required aria-required="true">
                            <label for="organisateur">Organisateur</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="media" name="Role" value="Média / Journaliste" required aria-required="true">
                            <label for="media">Média / Journaliste</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="autre-role" name="Role" value="Autre" required aria-required="true">
                            <label for="autre-role">Autre</label>
                        </div>
                    </div>
                    <div id="role-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 2: Découverte de l'événement -->
            <div class="section" id="section-2" data-section="2">
                <h2 class="section-title"><i class="fas fa-search"></i> Découverte de l'événement</h2>
                
                <div class="form-group">
                    <label>Comment avez-vous connu le Sahel Chess Festival ?</label>
                    <div class="checkbox-group" role="group" aria-describedby="decouverte-error">
                        <div class="checkbox-option">
                            <input type="checkbox" id="site-web" name="Decouverte" value="Site web officiel">
                            <label for="site-web">Site web officiel</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="reseaux-sociaux" name="Decouverte" value="Réseaux sociaux">
                            <label for="reseaux-sociaux">Réseaux sociaux</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="bouche-oreille" name="Decouverte" value="Bouche-à-oreille">
                            <label for="bouche-oreille">Bouche-à-oreille</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="club" name="Decouverte" value="Club d'échecs local">
                            <label for="club">Club d'échecs local</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="presse" name="Decouverte" value="Presse / Média">
                            <label for="presse">Presse / Média</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="autre-decouverte" name="Decouverte" value="Autre">
                            <label for="autre-decouverte">Autre</label>
                        </div>
                    </div>
                    <div id="decouverte-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="influence">Qu'est-ce qui a le plus influencé votre décision de participer ?</label>
                    <textarea id="influence" name="Influence" rows="3" aria-describedby="influence-error"></textarea>
                    <div id="influence-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 3: Organisation générale -->
            <div class="section" id="section-3" data-section="3">
                <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Organisation générale</h2>
                
                <div class="rating-group">
                    <div class="rating-label">Qualité générale du festival</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="qualite-error">
                        <input type="radio" id="qualite-5" name="QualiteGenerale" value="5" required aria-required="true">
                        <label for="qualite-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="qualite-4" name="QualiteGenerale" value="4" required aria-required="true">
                        <label for="qualite-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="qualite-3" name="QualiteGenerale" value="3" required aria-required="true">
                        <label for="qualite-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="qualite-2" name="QualiteGenerale" value="2" required aria-required="true">
                        <label for="qualite-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="qualite-1" name="QualiteGenerale" value="1" required aria-required="true">
                        <label for="qualite-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="qualite-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Respect du programme et des horaires</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="programme-error">
                        <input type="radio" id="programme-5" name="RespectProgramme" value="5" required aria-required="true">
                        <label for="programme-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="programme-4" name="RespectProgramme" value="4" required aria-required="true">
                        <label for="programme-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="programme-3" name="RespectProgramme" value="3" required aria-required="true">
                        <label for="programme-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="programme-2" name="RespectProgramme" value="2" required aria-required="true">
                        <label for="programme-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="programme-1" name="RespectProgramme" value="1" required aria-required="true">
                        <label for="programme-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="programme-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Implication et professionnalisme de l'équipe</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="equipe-error">
                        <input type="radio" id="equipe-5" name="ImplicationEquipe" value="5" required aria-required="true">
                        <label for="equipe-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="equipe-4" name="ImplicationEquipe" value="4" required aria-required="true">
                        <label for="equipe-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="equipe-3" name="ImplicationEquipe" value="3" required aria-required="true">
                        <label for="equipe-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="equipe-2" name="ImplicationEquipe" value="2" required aria-required="true">
                        <label for="equipe-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="equipe-1" name="ImplicationEquipe" value="1" required aria-required="true">
                        <label for="equipe-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="equipe-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="points-forts">Quels ont été, selon vous, les plus grands points forts de l'événement ?</label>
                    <textarea id="points-forts" name="PointsForts" rows="3" aria-describedby="points-forts-error"></textarea>
                    <div id="points-forts-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="ameliorations">Quels aspects nécessitent des améliorations prioritaires ?</label>
                    <textarea id="ameliorations" name="Ameliorations" rows="3" aria-describedby="ameliorations-error"></textarea>
                    <div id="ameliorations-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 4: Tournoi & Niveau sportif -->
            <div class="section" id="section-4" data-section="4">
                <h2 class="section-title"><i class="fas fa-chess"></i> Tournoi & Niveau sportif</h2>
                
                <div class="rating-group">
                    <div class="rating-label">Qualité de l'arbitrage</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="arbitrage-error">
                        <input type="radio" id="arbitrage-5" name="QualiteArbitrage" value="5" required aria-required="true">
                        <label for="arbitrage-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="arbitrage-4" name="QualiteArbitrage" value="4" required aria-required="true">
                        <label for="arbitrage-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="arbitrage-3" name="QualiteArbitrage" value="3" required aria-required="true">
                        <label for="arbitrage-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="arbitrage-2" name="QualiteArbitrage" value="2" required aria-required="true">
                        <label for="arbitrage-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="arbitrage-1" name="QualiteArbitrage" value="1" required aria-required="true">
                        <label for="arbitrage-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="arbitrage-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Clarté du règlement et du système d'appariement</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="reglement-error">
                        <input type="radio" id="reglement-5" name="ClarteReglement" value="5" required aria-required="true">
                        <label for="reglement-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="reglement-4" name="ClarteReglement" value="4" required aria-required="true">
                        <label for="reglement-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="reglement-3" name="ClarteReglement" value="3" required aria-required="true">
                        <label for="reglement-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="reglement-2" name="ClarteReglement" value="2" required aria-required="true">
                        <label for="reglement-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="reglement-1" name="ClarteReglement" value="1" required aria-required="true">
                        <label for="reglement-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="reglement-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Niveau des participants</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="niveau-error">
                        <input type="radio" id="niveau-5" name="NiveauParticipants" value="5" required aria-required="true">
                        <label for="niveau-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="niveau-4" name="NiveauParticipants" value="4" required aria-required="true">
                        <label for="niveau-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="niveau-3" name="NiveauParticipants" value="3" required aria-required="true">
                        <label for="niveau-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="niveau-2" name="NiveauParticipants" value="2" required aria-required="true">
                        <label for="niveau-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="niveau-1" name="NiveauParticipants" value="1" required aria-required="true">
                        <label for="niveau-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="niveau-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Équité et ambiance sportive</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="equite-error">
                        <input type="radio" id="equite-5" name="EquiteAmbiance" value="5" required aria-required="true">
                        <label for="equite-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="equite-4" name="EquiteAmbiance" value="4" required aria-required="true">
                        <label for="equite-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="equite-3" name="EquiteAmbiance" value="3" required aria-required="true">
                        <label for="equite-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="equite-2" name="EquiteAmbiance" value="2" required aria-required="true">
                        <label for="equite-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="equite-1" name="EquiteAmbiance" value="1" required aria-required="true">
                        <label for="equite-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="equite-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="commentaires-tournoi">Commentaires / Suggestions</label>
                    <textarea id="commentaires-tournoi" name="CommentairesTournoi" rows="3" aria-describedby="commentaires-tournoi-error"></textarea>
                    <div id="commentaires-tournoi-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 5: Logistique & Accueil -->
            <div class="section" id="section-5" data-section="5">
                <h2 class="section-title"><i class="fas fa-hotel"></i> Logistique & Accueil</h2>
                
                <div class="rating-group">
                    <div class="rating-label">Hébergement (qualité, confort, proximité)</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="hebergement-error">
                        <input type="radio" id="hebergement-5" name="QualiteHebergement" value="5" required aria-required="true">
                        <label for="hebergement-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="hebergement-4" name="QualiteHebergement" value="4" required aria-required="true">
                        <label for="hebergement-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="hebergement-3" name="QualiteHebergement" value="3" required aria-required="true">
                        <label for="hebergement-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="hebergement-2" name="QualiteHebergement" value="2" required aria-required="true">
                        <label for="hebergement-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="hebergement-1" name="QualiteHebergement" value="1" required aria-required="true">
                        <label for="hebergement-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="hebergement-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Restauration (qualité, variété, organisation)</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="restauration-error">
                        <input type="radio" id="restauration-5" name="QualiteRestauration" value="5" required aria-required="true">
                        <label for="restauration-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="restauration-4" name="QualiteRestauration" value="4" required aria-required="true">
                        <label for="restauration-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="restauration-3" name="QualiteRestauration" value="3" required aria-required="true">
                        <label for="restauration-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="restauration-2" name="QualiteRestauration" value="2" required aria-required="true">
                        <label for="restauration-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="restauration-1" name="QualiteRestauration" value="1" required aria-required="true">
                        <label for="restauration-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="restauration-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Transport (transferts, accessibilité du lieu)</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="transport-error">
                        <input type="radio" id="transport-5" name="QualiteTransport" value="5" required aria-required="true">
                        <label for="transport-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="transport-4" name="QualiteTransport" value="4" required aria-required="true">
                        <label for="transport-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="transport-3" name="QualiteTransport" value="3" required aria-required="true">
                        <label for="transport-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="transport-2" name="QualiteTransport" value="2" required aria-required="true">
                        <label for="transport-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="transport-1" name="QualiteTransport" value="1" required aria-required="true">
                        <label for="transport-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="transport-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Accueil à l'aéroport / gare / hôtel</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="accueil-error">
                        <input type="radio" id="accueil-5" name="QualiteAccueil" value="5" required aria-required="true">
                        <label for="accueil-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="accueil-4" name="QualiteAccueil" value="4" required aria-required="true">
                        <label for="accueil-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="accueil-3" name="QualiteAccueil" value="3" required aria-required="true">
                        <label for="accueil-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="accueil-2" name="QualiteAccueil" value="2" required aria-required="true">
                        <label for="accueil-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="accueil-1" name="QualiteAccueil" value="1" required aria-required="true">
                        <label for="accueil-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="accueil-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Services offerts (traduction, assistance, information)</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="services-error">
                        <input type="radio" id="services-5" name="QualiteServices" value="5" required aria-required="true">
                        <label for="services-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="services-4" name="QualiteServices" value="4" required aria-required="true">
                        <label for="services-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="services-3" name="QualiteServices" value="3" required aria-required="true">
                        <label for="services-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="services-2" name="QualiteServices" value="2" required aria-required="true">
                        <label for="services-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="services-1" name="QualiteServices" value="1" required aria-required="true">
                        <label for="services-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="services-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="commentaires-logistique">Commentaires</label>
                    <textarea id="commentaires-logistique" name="CommentairesLogistique" rows="3" aria-describedby="commentaires-logistique-error"></textarea>
                    <div id="commentaires-logistique-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 6: Communication & Promotion -->
            <div class="section" id="section-6" data-section="6">
                <h2 class="section-title"><i class="fas fa-bullhorn"></i> Communication & Promotion</h2>
                
                <div class="rating-group">
                    <div class="rating-label">Informations avant l'événement</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="info-avant-error">
                        <input type="radio" id="info-avant-5" name="InfoAvant" value="5" required aria-required="true">
                        <label for="info-avant-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="info-avant-4" name="InfoAvant" value="4" required aria-required="true">
                        <label for="info-avant-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="info-avant-3" name="InfoAvant" value="3" required aria-required="true">
                        <label for="info-avant-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="info-avant-2" name="InfoAvant" value="2" required aria-required="true">
                        <label for="info-avant-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="info-avant-1" name="InfoAvant" value="1" required aria-required="true">
                        <label for="info-avant-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="info-avant-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Informations pendant l'événement</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="info-pendant-error">
                        <input type="radio" id="info-pendant-5" name="InfoPendant" value="5" required aria-required="true">
                        <label for="info-pendant-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="info-pendant-4" name="InfoPendant" value="4" required aria-required="true">
                        <label for="info-pendant-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="info-pendant-3" name="InfoPendant" value="3" required aria-required="true">
                        <label for="info-pendant-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="info-pendant-2" name="InfoPendant" value="2" required aria-required="true">
                        <label for="info-pendant-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="info-pendant-1" name="InfoPendant" value="1" required aria-required="true">
                        <label for="info-pendant-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="info-pendant-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Visibilité médiatique et couverture presse</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="visibilite-error">
                        <input type="radio" id="visibilite-5" name="VisibiliteMediatique" value="5" required aria-required="true">
                        <label for="visibilite-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="visibilite-4" name="VisibiliteMediatique" value="4" required aria-required="true">
                        <label for="visibilite-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="visibilite-3" name="VisibiliteMediatique" value="3" required aria-required="true">
                        <label for="visibilite-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="visibilite-2" name="VisibiliteMediatique" value="2" required aria-required="true">
                        <label for="visibilite-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="visibilite-1" name="VisibiliteMediatique" value="1" required aria-required="true">
                        <label for="visibilite-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="visibilite-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="rating-group">
                    <div class="rating-label">Clarté des supports digitaux & réseaux sociaux</div>
                    <div class="rating-stars" role="radiogroup" aria-required="true" aria-describedby="supports-error">
                        <input type="radio" id="supports-5" name="ClarteSupports" value="5" required aria-required="true">
                        <label for="supports-5" aria-label="5 étoiles">★</label>
                        <input type="radio" id="supports-4" name="ClarteSupports" value="4" required aria-required="true">
                        <label for="supports-4" aria-label="4 étoiles">★</label>
                        <input type="radio" id="supports-3" name="ClarteSupports" value="3" required aria-required="true">
                        <label for="supports-3" aria-label="3 étoiles">★</label>
                        <input type="radio" id="supports-2" name="ClarteSupports" value="2" required aria-required="true">
                        <label for="supports-2" aria-label="2 étoiles">★</label>
                        <input type="radio" id="supports-1" name="ClarteSupports" value="1" required aria-required="true">
                        <label for="supports-1" aria-label="1 étoile">★</label>
                    </div>
                    <div id="supports-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="commentaires-communication">Commentaires</label>
                    <textarea id="commentaires-communication" name="CommentairesCommunication" rows="3" aria-describedby="commentaires-communication-error"></textarea>
                    <div id="commentaires-communication-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 7: Expérience & Impact -->
            <div class="section" id="section-7" data-section="7">
                <h2 class="section-title"><i class="fas fa-brain"></i> Expérience & Impact</h2>
                
                <div class="form-group">
                    <label>Le festival a-t-il répondu à vos attentes ?</label>
                    <div class="radio-group" role="radiogroup" aria-required="true" aria-describedby="attentes-error">
                        <div class="radio-option">
                            <input type="radio" id="attentes-globale-oui" name="AttentesGlobale" value="Oui totalement" required aria-required="true">
                            <label for="attentes-globale-oui">Oui totalement</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="attentes-globale-partiel" name="AttentesGlobale" value="Partiellement" required aria-required="true">
                            <label for="attentes-globale-partiel">Partiellement</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="attentes-globale-non" name="AttentesGlobale" value="Non" required aria-required="true">
                            <label for="attentes-globale-non">Non</label>
                        </div>
                    </div>
                    <div id="attentes-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label>Avez-vous ressenti une valeur ajoutée sur :</label>
                    <div class="checkbox-group" role="group" aria-describedby="valeur-error">
                        <div class="checkbox-option">
                            <input type="checkbox" id="networking" name="ValeurAjoutee" value="Networking (contacts, échanges, partenariats)">
                            <label for="networking">Networking (contacts, échanges, partenariats)</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="experience" name="ValeurAjoutee" value="Expérience sportive et culturelle">
                            <label for="experience">Expérience sportive et culturelle</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="developpement" name="ValeurAjoutee" value="Développement de l'image des échecs dans la région">
                            <label for="developpement">Développement de l'image des échecs dans la région</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="autre-valeur" name="ValeurAjoutee" value="Autre">
                            <label for="autre-valeur">Autre</label>
                        </div>
                    </div>
                    <div id="valeur-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="nps-group">
                    <label>Sur une échelle de 0 à 10, quelle est la probabilité que vous recommandiez cet événement à un collègue ou ami ?</label>
                    <div class="flutter-slider-container">
                        <div class="slider-value-display" id="slider-value">5</div>
                        <div class="slider-track">
                            <div class="slider-progress" id="slider-progress"></div>
                            <div class="slider-thumb" id="slider-thumb" role="slider" tabindex="0" aria-valuemin="0" aria-valuemax="10" aria-valuenow="5" aria-label="Note de recommandation"></div>
                        </div>
                        <div class="nps-description">
                            <span>Pas du tout probable</span>
                            <span>Très probable</span>
                        </div>
                    </div>
                    <input type="hidden" id="nps-value" name="NPS" value="5">
                </div>
                
                <div class="form-group">
                    <label for="trois-mots">Trois mots pour décrire votre expérience</label>
                    <input type="text" id="trois-mots" name="TroisMots" placeholder="Ex: Passionnant, Bien organisé, Enrichissant" aria-describedby="trois-mots-error">
                    <div id="trois-mots-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 8: Emplacement de la prochaine édition -->
            <div class="section" id="section-8" data-section="8">
                <h2 class="section-title"><i class="fas fa-map-marker-alt"></i> Emplacement de la prochaine édition</h2>
                
                <div class="form-group">
                    <label>Pour la 2ᵉ édition du Sahel Chess Festival, quelle ville préférez-vous ?</label>
                    <div class="radio-group" role="radiogroup" aria-required="true" aria-describedby="emplacement-error">
                        <div class="radio-option">
                            <input type="radio" id="monastir" name="Emplacement" value="Monastir" required aria-required="true">
                            <label for="monastir">Monastir</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sousse" name="Emplacement" value="Sousse" required aria-required="true">
                            <label for="sousse">Sousse</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="mahdia" name="Emplacement" value="Mahdia" required aria-required="true">
                            <label for="mahdia">Mahdia</label>
                        </div>
                    </div>
                    <div id="emplacement-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label>Pourquoi ce choix d'emplacement ?</label>
                    <textarea id="raison-emplacement" name="RaisonEmplacement" rows="3" placeholder="Partagez les raisons de votre préférence pour cet emplacement..." aria-describedby="raison-emplacement-error"></textarea>
                    <div id="raison-emplacement-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label>Quels avantages cet emplacement pourrait-il offrir pour le festival ?</label>
                    <textarea id="avantages-emplacement" name="AvantagesEmplacement" rows="3" placeholder="Décrivez les avantages potentiels de cet emplacement..." aria-describedby="avantages-emplacement-error"></textarea>
                    <div id="avantages-emplacement-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 9: Suggestions pour la 2ᵉ édition -->
            <div class="section" id="section-9" data-section="9">
                <h2 class="section-title"><i class="fas fa-lightbulb"></i> Suggestions pour la 2ᵉ édition</h2>
                
                <div class="form-group">
                    <label>Quels nouveaux services / activités aimeriez-vous voir ajoutés ?</label>
                    <div class="checkbox-group" role="group" aria-describedby="services-nouveaux-error">
                        <div class="checkbox-option">
                            <input type="checkbox" id="conferences" name="NouveauxServices" value="Conférences / Masterclass">
                            <label for="conferences">Conférences / Masterclass</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="simultanees" name="NouveauxServices" value="Simultanées avec grands maîtres">
                            <label for="simultanees">Simultanées avec grands maîtres</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="culturelles" name="NouveauxServices" value="Activités culturelles & touristiques">
                            <label for="culturelles">Activités culturelles & touristiques</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="junior" name="NouveauxServices" value="Tournoi junior / amateur parallèle">
                            <label for="junior">Tournoi junior / amateur parallèle</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="checkbox" id="autre-service" name="NouveauxServices" value="Autre">
                            <label for="autre-service">Autre</label>
                        </div>
                    </div>
                    <div id="services-nouveaux-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="recommandations">Avez-vous des recommandations précises pour améliorer la prochaine édition ?</label>
                    <textarea id="recommandations" name="Recommandations" rows="4" aria-describedby="recommandations-error"></textarea>
                    <div id="recommandations-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <!-- Section 10: Recommandation & Fidélisation -->
            <div class="section" id="section-10" data-section="10">
                <h2 class="section-title"><i class="fas fa-heart"></i> Recommandation & Fidélisation</h2>
                
                <div class="form-group">
                    <label>Recommanderiez-vous le Sahel Chess Festival à d'autres joueurs/organisations ?</label>
                    <div class="radio-group" role="radiogroup" aria-required="true" aria-describedby="recommandation-error">
                        <div class="radio-option">
                            <input type="radio" id="recommandation-oui" name="Recommandation" value="Oui, absolument" required aria-required="true">
                            <label for="recommandation-oui">Oui, absolument</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="recommandation-peut-etre" name="Recommandation" value="Peut-être" required aria-required="true">
                            <label for="recommandation-peut-etre">Peut-être</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="recommandation-non" name="Recommandation" value="Non" required aria-required="true">
                            <label for="recommandation-non">Non</label>
                        </div>
                    </div>
                    <div id="recommandation-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label>Souhaitez-vous être contacté pour la 2ᵉ édition ?</label>
                    <div class="radio-group" role="radiogroup" aria-required="true" aria-describedby="contact-error">
                        <div class="radio-option">
                            <input type="radio" id="contact-oui" name="ContactProchaineEdition" value="Oui" required aria-required="true">
                            <label for="contact-oui">Oui</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="contact-non" name="ContactProchaineEdition" value="Non" required aria-required="true">
                            <label for="contact-non">Non</label>
                        </div>
                    </div>
                    <div id="contact-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label>Préférence de contact pour les futures communications :</label>
                    <div class="radio-group" role="radiogroup" aria-required="true" aria-describedby="preference-error">
                        <div class="radio-option">
                            <input type="radio" id="pref-email" name="PreferenceContact" value="Email" required aria-required="true">
                            <label for="pref-email">Email</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="pref-whatsapp" name="PreferenceContact" value="WhatsApp" required aria-required="true">
                            <label for="pref-whatsapp">WhatsApp</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="pref-sms" name="PreferenceContact" value="SMS" required aria-required="true">
                            <label for="pref-sms">SMS</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="pref-autre" name="PreferenceContact" value="Autre" required aria-required="true">
                            <label for="pref-autre">Autre</label>
                        </div>
                    </div>
                    <div id="preference-error" class="error-message" role="alert"></div>
                </div>
                
                <div class="form-group">
                    <label for="coordonnees">Coordonnées email / WhatsApp</label>
                    <input type="text" id="coordonnees" name="Coordonnees" placeholder="votre@email.com ou numéro WhatsApp" aria-describedby="coordonnees-error">
                    <div id="coordonnees-error" class="error-message" role="alert"></div>
                </div>
            </div>
            
            <button type="submit" class="btn" id="submit-btn">Soumettre l'évaluation</button>
        </form>
        
        <div class="footer">
            <p>✅ Merci infiniment pour vos retours 🙏<br>
            Vous contribuez directement à la réussite de la prochaine édition du Sahel Chess Festival 🌍♟️</p>
        </div>
    </div>
    
    <!-- Notification de sauvegarde automatique -->
    <div id="save-notification" class="save-notification" role="status" aria-live="polite">
        <i class="fas fa-check-circle"></i>
        <span>Formulaire sauvegardé automatiquement</span>
    </div>
    
    <!-- Conteneur de remerciement (initialement caché) -->
    <div id="thank-you-container" class="thank-you-container">
        <div class="success-card">
            <div class="success-icon">✓</div>
            <h1 class="success-title">Merci pour votre évaluation !</h1>
            <p class="success-message">Votre feedback a été soumis avec succès et contribuera directement à l'amélioration de la prochaine édition du Sahel Chess Festival.</p>
            
            <div class="details-card">
                <h3 class="details-title"><i class="fas fa-info-circle"></i> Que se passe-t-il maintenant ?</h3>
                <ul class="details-list">
                    <li><i class="fas fa-check-circle"></i> Votre évaluation sera analysée par notre équipe d'organisation</li>
                    <li><i class="fas fa-check-circle"></i> Vos suggestions seront prises en compte pour la 2ᵉ édition</li>
                    <li><i class="fas fa-check-circle"></i> Vous recevrez une confirmation par email si vous avez demandé à être contacté</li>
                </ul>
                
                <!-- Décompte pour la prochaine édition -->
                <div class="countdown-container">
                    <h3 class="details-title"><i class="fas fa-clock"></i> Prochaine édition</h3>
                    <div class="countdown" id="countdown">
                        <div class="countdown-item">
                            <span class="countdown-value" id="days">0</span>
                            <span class="countdown-label">Jours</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-value" id="hours">0</span>
                            <span class="countdown-label">Heures</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-value" id="minutes">0</span>
                            <span class="countdown-label">Minutes</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-value" id="seconds">0</span>
                            <span class="countdown-label">Secondes</span>
                        </div>
                    </div>
                </div>
                
                <!-- Partage privé -->
                <div class="private-share-container">
                    <h3 class="details-title"><i class="fas fa-envelope"></i> Partager en privé</h3>
                    <div class="private-share-buttons">
                        <a href="#" class="private-share-button whatsapp" title="Partager sur WhatsApp" target="_blank">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="#" class="private-share-button messenger" title="Partager sur Messenger" target="_blank">
                            <i class="fab fa-facebook-messenger"></i>
                        </a>
                        <a href="#" class="private-share-button instagram" title="Partager sur Instagram" id="instagram-share">
                            <i class="fab fa-instagram"></i>
                            <span class="copy-tooltip">Texte copié !</span>
                        </a>
                        <a href="#" class="private-share-button gmail" title="Partager par Gmail" target="_blank">
                            <i class="fab fa-google"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <a href="#" id="reset-form" class="home-btn">Remplir un autre formulaire</a>
        </div>
        
        <div class="footer">
            <p>Sahel Chess Festival 2025 • Tous droits réservés</p>
            <p>Merci de faire partie de notre communauté d'échecs ♟️</p>
        </div>
    </div>
    
    <!-- Ajout de Font Awesome pour les icônes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <!-- Scripts Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Détecter le mode clair du navigateur et appliquer la classe appropriée
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
                document.body.classList.add('light-mode');
            }
            
            // Écouter les changements de mode de couleur
            if (window.matchMedia) {
                window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', function(e) {
                    if (e.matches) {
                        document.body.classList.add('light-mode');
                    } else {
                        document.body.classList.remove('light-mode');
                    }
                });
            }
            
            // Initialiser Firebase - Remplacez ces valeurs par celles de votre projet
            const firebaseConfig = {
                apiKey: "AIzaSyDZaxeYOe_RGZ3SO_p0y0xGEKODpucdu7I",
                authDomain: "forum-chess.firebaseapp.com",
                projectId: "forum-chess",
                storageBucket: "forum-chess.firebasestorage.app",
                messagingSenderId: "635592066086",
                appId: "1:635592066086:web:0aad03ccca4c1c973652e7"
            };
            
            // Initialiser Firebase
            firebase.initializeApp(firebaseConfig);
            
            // Initialiser Firestore
            const db = firebase.firestore();
            
            // Créer des particules d'échecs
            function createChessParticles() {
                const container = document.body;
                const particleCount = 20;
                
                for (let i = 0; i < particleCount; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'chess-particle';
                        
                        // Position aléatoire
                        const posX = Math.random() * window.innerWidth;
                        const posY = Math.random() * window.innerHeight;
                        
                        particle.style.left = `${posX}px`;
                        particle.style.top = `${posY}px`;
                        
                        // Animation de mouvement
                        const duration = 3 + Math.random() * 5; // 3-8 secondes
                        const delay = Math.random() * 2; // Jusqu'à 2 secondes de délai
                        
                        particle.style.animation = `floatParticle ${duration}s ease-in-out ${delay}s infinite`;
                        
                        container.appendChild(particle);
                    }, i * 100);
                }
            }
            
            // Initialiser les particules
            createChessParticles();
            
            // Fonctionnalités de validation en temps réel
            const form = document.getElementById('evaluation-form');
            const formInputs = form.querySelectorAll('input, textarea, select');
            
            // Validation des champs de texte
            function validateTextInput(input) {
                const errorElement = document.getElementById(`${input.id}-error`);
                const value = input.value.trim();
                
                if (input.hasAttribute('required') && value === '') {
                    showError(errorElement, 'Ce champ est obligatoire');
                    return false;
                }
                
                // Validation spécifique pour certains champs
                if (input.id === 'nom' && value.length < 2) {
                    showError(errorElement, 'Veuillez entrer un nom valide (au moins 2 caractères)');
                    return false;
                }
                
                if (input.id === 'age') {
                    const age = parseInt(value);
                    if (isNaN(age) || age < 10 || age > 100) {
                        showError(errorElement, 'Veuillez entrer un âge valide entre 10 et 100');
                        return false;
                    }
                }
                
                if (input.id === 'pays' && value.length < 2) {
                    showError(errorElement, 'Veuillez entrer un pays valide');
                    return false;
                }
                
                if (input.id === 'coordonnees' && value !== '') {
                    // Validation basique pour email ou numéro de téléphone
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    const phoneRegex = /^[\d\s\+\-\(\)]+$/;
                    
                    if (!emailRegex.test(value) && !phoneRegex.test(value)) {
                        showError(errorElement, 'Veuillez entrer une adresse email ou un numéro de téléphone valide');
                        return false;
                    }
                }
                
                hideError(errorElement);
                return true;
            }
            
            // Validation des groupes de radio
            function validateRadioGroup(groupName) {
                const radios = form.querySelectorAll(`input[name="${groupName}"]`);
                const errorElement = document.getElementById(`${groupName}-error`);
                
                if (radios.length > 0) {
                    const isChecked = Array.from(radios).some(radio => radio.checked);
                    
                    if (radios[0].hasAttribute('required') && !isChecked) {
                        showError(errorElement, 'Veuillez sélectionner une option');
                        return false;
                    }
                }
                
                hideError(errorElement);
                return true;
            }
            
            // Validation des groupes de cases à cocher
            function validateCheckboxGroup(groupName) {
                const checkboxes = form.querySelectorAll(`input[name="${groupName}"]`);
                const errorElement = document.getElementById(`${groupName}-error`);
                
                if (checkboxes.length > 0) {
                    const isChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);
                    
                    if (checkboxes[0].hasAttribute('required') && !isChecked) {
                        showError(errorElement, 'Veuillez sélectionner au moins une option');
                        return false;
                    }
                }
                
                hideError(errorElement);
                return true;
            }
            
            // Afficher un message d'erreur
            function showError(errorElement, message) {
                if (errorElement) {
                    errorElement.textContent = message;
                    errorElement.style.display = 'block';
                }
            }
            
            // Masquer un message d'erreur
            function hideError(errorElement) {
                if (errorElement) {
                    errorElement.style.display = 'none';
                }
            }
            
            // Ajouter des écouteurs d'événements pour la validation en temps réel
            formInputs.forEach(input => {
                if (input.type === 'text' || input.type === 'email' || input.type === 'number' || input.tagName === 'TEXTAREA') {
                    input.addEventListener('blur', function() {
                        validateTextInput(this);
                    });
                    
                    input.addEventListener('input', function() {
                        // Effacer l'erreur lorsque l'utilisateur commence à taper
                        const errorElement = document.getElementById(`${this.id}-error`);
                        if (errorElement && errorElement.style.display === 'block') {
                            hideError(errorElement);
                        }
                        
                        // Sauvegarde automatique
                        saveFormData();
                    });
                } else if (input.type === 'radio' || input.type === 'checkbox') {
                    input.addEventListener('change', function() {
                        if (input.type === 'radio') {
                            validateRadioGroup(input.name);
                        } else {
                            validateCheckboxGroup(input.name);
                        }
                        
                        // Sauvegarde automatique
                        saveFormData();
                    });
                }
            });
            
            // Validation du formulaire complet avant soumission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                let isValid = true;
                
                // Valider tous les champs de texte
                const textInputs = form.querySelectorAll('input[type="text"], input[type="email"], input[type="number"], textarea');
                textInputs.forEach(input => {
                    if (!validateTextInput(input)) {
                        isValid = false;
                    }
                });
                
                // Valider tous les groupes de radio
                const radioGroups = ['Genre', 'Role', 'AttentesGlobale', 'Recommandation', 'ContactProchaineEdition', 'PreferenceContact', 'Emplacement'];
                radioGroups.forEach(groupName => {
                    if (!validateRadioGroup(groupName)) {
                        isValid = false;
                    }
                });
                
                // Valider tous les groupes de cases à cocher
                const checkboxGroups = ['Decouverte', 'ValeurAjoutee', 'NouveauxServices'];
                checkboxGroups.forEach(groupName => {
                    if (!validateCheckboxGroup(groupName)) {
                        isValid = false;
                    }
                });
                
                // Valider les groupes d'étoiles
                const starGroups = ['QualiteGenerale', 'RespectProgramme', 'ImplicationEquipe', 'QualiteArbitrage', 'ClarteReglement', 'NiveauParticipants', 'EquiteAmbiance', 'QualiteHebergement', 'QualiteRestauration', 'QualiteTransport', 'QualiteAccueil', 'QualiteServices', 'InfoAvant', 'InfoPendant', 'VisibiliteMediatique', 'ClarteSupports'];
                starGroups.forEach(groupName => {
                    if (!validateRadioGroup(groupName)) {
                        isValid = false;
                    }
                });
                
                if (!isValid) {
                    // Faire défiler jusqu'au premier champ avec erreur
                    const firstError = form.querySelector('.error-message[style="display: block;"]');
                    if (firstError) {
                        firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                    return;
                }
                
                // Afficher un indicateur de chargement
                const submitButton = document.getElementById('submit-btn');
                const originalText = submitButton.textContent;
                submitButton.textContent = 'Envoi en cours...';
                submitButton.disabled = true;
                
                // Créer un objet avec les données du formulaire
                const formData = new FormData(form);
                const formDataObj = {};
                
                // Convertir FormData en objet
                for (let [key, value] of formData.entries()) {
                    // Si la clé existe déjà, créer un tableau
                    if (formDataObj[key]) {
                        if (!Array.isArray(formDataObj[key])) {
                            formDataObj[key] = [formDataObj[key]];
                        }
                        formDataObj[key].push(value);
                    } else {
                        formDataObj[key] = value;
                    }
                }
                
                // Ajouter un timestamp
                formDataObj.timestamp = firebase.firestore.FieldValue.serverTimestamp();
                
                // Envoyer les données à Firebase
                db.collection("evaluations").add(formDataObj)
                .then((docRef) => {
                    console.log("Document written with ID: ", docRef.id);
                    
                    // Afficher le message de remerciement
                    document.getElementById('form-container').style.display = 'none';
                    document.getElementById('thank-you-container').style.display = 'flex';
                    
                    // Effacer les données sauvegardées
                    localStorage.removeItem('sahelChessFormData');
                    
                    // Initialiser les éléments de la page de remerciement
                    initThankYouPage();
                })
                .catch((error) => {
                    console.error("Error adding document: ", error);
                    
                    // Afficher un message d'erreur
                    showNotification("Une erreur s'est produite lors de l'envoi du formulaire. Veuillez réessayer.", "error");
                    
                    // Restaurer le bouton
                    submitButton.textContent = originalText;
                    submitButton.disabled = false;
                });
            });
            
            // Fonctionnalités de sauvegarde automatique
            function saveFormData() {
                const formData = new FormData(form);
                const formDataObj = {};
                
                // Convertir FormData en objet
                for (let [key, value] of formData.entries()) {
                    // Si la clé existe déjà, créer un tableau
                    if (formDataObj[key]) {
                        if (!Array.isArray(formDataObj[key])) {
                            formDataObj[key] = [formDataObj[key]];
                        }
                        formDataObj[key].push(value);
                    } else {
                        formDataObj[key] = value;
                    }
                }
                
                // Sauvegarder dans localStorage
                localStorage.setItem('sahelChessFormData', JSON.stringify(formDataObj));
                
                // Afficher la notification de sauvegarde
                showSaveNotification();
            }
            
            function loadFormData() {
                const savedData = localStorage.getItem('sahelChessFormData');
                
                if (savedData) {
                    const formDataObj = JSON.parse(savedData);
                    
                    // Remplir les champs de texte et textarea
                    Object.keys(formDataObj).forEach(key => {
                        if (Array.isArray(formDataObj[key])) {
                            // Pour les cases à cocher
                            formDataObj[key].forEach(value => {
                                const checkbox = form.querySelector(`input[name="${key}"][value="${value}"]`);
                                if (checkbox) {
                                    checkbox.checked = true;
                                }
                            });
                        } else {
                            // Pour les champs de texte, textarea et radio
                            const input = form.querySelector(`input[name="${key}"], textarea[name="${key}"]`);
                            if (input) {
                                if (input.type === 'radio') {
                                    const radio = form.querySelector(`input[name="${key}"][value="${formDataObj[key]}"]`);
                                    if (radio) {
                                        radio.checked = true;
                                    }
                                } else {
                                    input.value = formDataObj[key];
                                }
                            }
                        }
                    });
                    
                    // Mettre à jour le slider NPS
                    const npsValue = formDataObj['NPS'];
                    if (npsValue) {
                        updateSliderValue(npsValue);
                    }
                    
                    // Mettre à jour la progression
                    updateProgress();
                    
                    return true;
                }
                
                return false;
            }
            
            function clearFormData() {
                if (confirm('Êtes-vous sûr de vouloir effacer toutes les données sauvegardées ?')) {
                    localStorage.removeItem('sahelChessFormData');
                    form.reset();
                    updateSliderValue(5);
                    updateProgress();
                    showNotification('Données effacées avec succès', 'success');
                }
            }
            
            function showSaveNotification() {
                const notification = document.getElementById('save-notification');
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            function showNotification(message, type) {
                // Créer une notification temporaire
                const notification = document.createElement('div');
                notification.className = 'save-notification';
                notification.style.backgroundColor = type === 'success' ? 'var(--success-color)' : 'var(--error-color)';
                notification.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i><span>${message}</span>`;
                document.body.appendChild(notification);
                
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            // Boutons de sauvegarde
            document.getElementById('save-form-btn').addEventListener('click', function() {
                saveFormData();
                showNotification('Formulaire sauvegardé manuellement', 'success');
            });
            
            document.getElementById('clear-form-btn').addEventListener('click', clearFormData);
            
            // Charger les données sauvegardées au démarrage
            const hasSavedData = loadFormData();
            if (hasSavedData) {
                showNotification('Données du formulaire restaurées', 'success');
            }
            
            // Slider Flutter-style pour l'échelle NPS
            const sliderTrack = document.querySelector('.slider-track');
            const sliderThumb = document.getElementById('slider-thumb');
            const sliderProgress = document.getElementById('slider-progress');
            const sliderValue = document.getElementById('slider-value');
            const npsValue = document.getElementById('nps-value');
            
            let isDragging = false;
            let currentValue = 5;
            
            function updateSlider(clientX) {
                const rect = sliderTrack.getBoundingClientRect();
                const position = (clientX - rect.left) / rect.width;
                const percentage = Math.max(0, Math.min(1, position));
                currentValue = Math.round(percentage * 10);
                
                sliderThumb.style.left = `${percentage * 100}%`;
                sliderProgress.style.width = `${percentage * 100}%`;
                sliderValue.textContent = currentValue;
                npsValue.value = currentValue;
                
                // Mettre à jour l'attribut ARIA
                sliderThumb.setAttribute('aria-valuenow', currentValue);
                
                // Sauvegarde automatique
                saveFormData();
            }
            
            function updateSliderValue(value) {
                currentValue = parseInt(value);
                const percentage = currentValue / 10;
                
                sliderThumb.style.left = `${percentage * 100}%`;
                sliderProgress.style.width = `${percentage * 100}%`;
                sliderValue.textContent = currentValue;
                npsValue.value = currentValue;
                
                // Mettre à jour l'attribut ARIA
                sliderThumb.setAttribute('aria-valuenow', currentValue);
            }
            
            sliderThumb.addEventListener('mousedown', function(e) {
                isDragging = true;
                e.preventDefault();
            });
            
            document.addEventListener('mousemove', function(e) {
                if (isDragging) {
                    updateSlider(e.clientX);
                }
            });
            
            document.addEventListener('mouseup', function() {
                isDragging = false;
            });
            
            sliderTrack.addEventListener('click', function(e) {
                if (e.target !== sliderThumb) {
                    updateSlider(e.clientX);
                }
            });
            
            // Support tactile
            sliderThumb.addEventListener('touchstart', function(e) {
                isDragging = true;
                e.preventDefault();
            });
            
            document.addEventListener('touchmove', function(e) {
                if (isDragging) {
                    updateSlider(e.touches[0].clientX);
                }
            });
            
            document.addEventListener('touchend', function() {
                isDragging = false;
            });
            
            // Support clavier pour le slider
            sliderThumb.addEventListener('keydown', function(e) {
                let newValue = currentValue;
                
                switch(e.key) {
                    case 'ArrowLeft':
                    case 'ArrowDown':
                        newValue = Math.max(0, currentValue - 1);
                        break;
                    case 'ArrowRight':
                    case 'ArrowUp':
                        newValue = Math.min(10, currentValue + 1);
                        break;
                    case 'Home':
                        newValue = 0;
                        break;
                    case 'End':
                        newValue = 10;
                        break;
                    case 'PageDown':
                        newValue = Math.max(0, currentValue - 2);
                        break;
                    case 'PageUp':
                        newValue = Math.min(10, currentValue + 2);
                        break;
                    default:
                        return;
                }
                
                if (newValue !== currentValue) {
                    updateSliderValue(newValue);
                    e.preventDefault();
                }
            });
            
            // Réinitialiser le formulaire
            document.getElementById('reset-form').addEventListener('click', function(e) {
                e.preventDefault();
                form.reset();
                document.getElementById('form-container').style.display = 'block';
                document.getElementById('thank-you-container').style.display = 'none';
                
                // Réinitialiser le slider
                updateSliderValue(5);
                
                // Mettre à jour la progression
                updateProgress();
            });
            
            // Indicateur de progression
            function updateProgress() {
                const sections = document.querySelectorAll('.section');
                const totalSections = sections.length;
                let completedSections = 0;
                
                sections.forEach(section => {
                    const sectionInputs = section.querySelectorAll('input, textarea, select');
                    let sectionCompleted = true;
                    
                    sectionInputs.forEach(input => {
                        if (input.hasAttribute('required') && !input.value) {
                            if (input.type === 'radio') {
                                const radios = section.querySelectorAll(`input[name="${input.name}"]`);
                                const isChecked = Array.from(radios).some(radio => radio.checked);
                                if (!isChecked) {
                                    sectionCompleted = false;
                                }
                            } else if (input.type === 'checkbox') {
                                // Pour les cases à cocher, on considère la section comme complétée même si aucune n'est cochée
                                // car elles ne sont pas toutes obligatoires
                            } else {
                                sectionCompleted = false;
                            }
                        }
                    });
                    
                    if (sectionCompleted) {
                        completedSections++;
                        // Mettre à jour l'étape correspondante
                        const sectionNumber = section.getAttribute('data-section');
                        const stepCircle = document.getElementById(`step-${sectionNumber}`);
                        if (stepCircle) {
                            stepCircle.classList.add('completed');
                            stepCircle.classList.remove('active');
                        }
                    } else {
                        // Mettre à jour l'étape active
                        const sectionNumber = section.getAttribute('data-section');
                        const stepCircle = document.getElementById(`step-${sectionNumber}`);
                        if (stepCircle) {
                            stepCircle.classList.add('active');
                            stepCircle.classList.remove('completed');
                        }
                    }
                });
                
                const progressPercentage = (completedSections / totalSections) * 100;
                const progressFill = document.getElementById('progress-fill');
                const progressContainer = document.querySelector('.progress-container');
                
                progressFill.style.width = `${progressPercentage}%`;
                progressContainer.setAttribute('aria-valuenow', progressPercentage);
            }
            
            // Mettre à jour la progression au chargement et lors des interactions
            updateProgress();
            
            // Ajouter des écouteurs d'événements pour mettre à jour la progression
            formInputs.forEach(input => {
                input.addEventListener('change', updateProgress);
                input.addEventListener('input', updateProgress);
            });
            
            // Initialiser la page de remerciement
            function initThankYouPage() {
                // Mettre à jour le décompte chaque seconde
                // Date de la prochaine édition (1er septembre 2026)
                const nextEditionDate = new Date('2026-09-01T09:00:00');
                
                function updateCountdown() {
                    const now = new Date();
                    const diff = nextEditionDate - now;
                    
                    if (diff > 0) {
                        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                        
                        document.getElementById('days').textContent = days;
                        document.getElementById('hours').textContent = hours;
                        document.getElementById('minutes').textContent = minutes;
                        document.getElementById('seconds').textContent = seconds;
                    }
                }
                
                updateCountdown();
                setInterval(updateCountdown, 1000);
                
                // Configurer les liens de partage privé
                const shareText = "J'ai participé au Sahel Chess Festival 2025 ! La prochaine édition aura lieu du 1er au 9 septembre 2026. Rejoignez-nous pour cette expérience exceptionnelle !";
                const shareUrl = "https://sahelchessfestival.com";
                
                // WhatsApp
                document.querySelector('.private-share-button.whatsapp').href = `https://wa.me/?text=${encodeURIComponent(shareText + ' ' + shareUrl)}`;
                
                // Messenger
                document.querySelector('.private-share-button.messenger').href = `https://www.facebook.com/dialog/send?link=${encodeURIComponent(shareUrl)}&app_id=YOUR_APP_ID&redirect_uri=${encodeURIComponent(shareUrl)}`;
                
                // Instagram (copier le texte)
                const instagramShare = document.getElementById('instagram-share');
                const copyTooltip = instagramShare.querySelector('.copy-tooltip');
                
                instagramShare.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Copier le texte dans le presse-papiers
                    navigator.clipboard.writeText(shareText + ' ' + shareUrl).then(function() {
                        // Afficher l'infobulle
                        copyTooltip.classList.add('show');
                        
                        // Masquer l'infobulle après 2 secondes
                        setTimeout(function() {
                            copyTooltip.classList.remove('show');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('Erreur lors de la copie du texte: ', err);
                    });
                });
                
                // Gmail
                document.querySelector('.private-share-button.gmail').href = `https://mail.google.com/mail/?view=cm&fs=1&to=&su=Sahel Chess Festival 2026&body=${encodeURIComponent(shareText + '\n\n' + shareUrl)}`;
                
                // Ajouter une animation de confetti
                function createConfetti() {
                    const colors = ['#f9c74f', '#2ca6a0', '#1a3a5f', '#0d1f2f'];
                    const confettiCount = 100;
                    
                    for (let i = 0; i < confettiCount; i++) {
                        setTimeout(() => {
                            const confetti = document.createElement('div');
                            confetti.className = 'confetti';
                            
                            // Position et style aléatoires
                            const posX = Math.random() * window.innerWidth;
                            const color = colors[Math.floor(Math.random() * colors.length)];
                            const size = Math.random() * 10 + 5;
                            const rotation = Math.random() * 360;
                            const duration = Math.random() * 3 + 2; // 2-5 secondes
                            
                            confetti.style.left = `${posX}px`;
                            confetti.style.top = `-20px`;
                            confetti.style.width = `${size}px`;
                            confetti.style.height = `${size}px`;
                            confetti.style.backgroundColor = color;
                            confetti.style.transform = `rotate(${rotation}deg)`;
                            confetti.style.animation = `fallConfetti ${duration}s linear forwards`;
                            
                            document.body.appendChild(confetti);
                            
                            // Supprimer le confetti après l'animation
                            setTimeout(() => {
                                confetti.remove();
                            }, duration * 1000);
                        }, i * 30);
                    }
                }
                
                // Lancer le confetti après un délai
                setTimeout(createConfetti, 1000);
            }
        });
    </script>
</body>
</html>
